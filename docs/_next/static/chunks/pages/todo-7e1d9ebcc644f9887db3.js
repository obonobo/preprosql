(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[755],{1534:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ie}});var r=n(5893),o=n(9163),i=n(2557),c=o.ZP.h1.attrs((function(){return{children:(0,r.jsx)("a",{href:(0,i.uH)("/todo"),children:"todos"})}})).withConfig({displayName:"AppNameHeader",componentId:"sc-3bt7ca-0"})(['transition:all 1s cubic-bezier(0.075,0.82,0.165,1);font:100px "Helvetica Neue",Helvetica,Arial,sans-serif;opacity:50%;margin:0;user-select:none;color:#ba3c23;opacity:0.4;position:relative;:hover{opacity:0.8;}']),u=n(5093);var a=n(355);function l(e){return function(e){if(Array.isArray(e))return(0,u.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var p=n(6265),m=n(7294);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,e),(0,p.Z)(this,"todos",void 0),this.todos=null!==t&&void 0!==t?t:[]}return d(e,[{key:"mutate",value:function(){return e.mutate(this)}},{key:"paginate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return this.todos.reduce((function(t,n){return t[t.length-1].length>=e?t.concat([[n]]):t.slice(0,t.length-1).concat([t[t.length-1].concat([n])])}),[[]])}},{key:"next",value:function(e){return{text:e.text,completed:e.completed,id:this.todos.reduce((function(e,t){return Math.max(e,t.id)}),Number.MIN_VALUE)+1}}},{key:"filter",value:function(e){return this.todos.filter(e)}},{key:"all",get:function(){return l(this.todos)}},{key:"length",get:function(){return this.todos.length}}],[{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(n)}},{key:"mutate",value:function(t){return new e.Mutator(t.todos)}}]),e}();(0,p.Z)(g,"Mutator",function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,e),(0,p.Z)(this,"current",void 0),this.current=t}return d(e,[{key:"handle",value:function(e){return this.current=e(this.current),this}},{key:"freeze",value:function(){return new g(this.current)}},{key:"todos",get:function(){return l(this.current)}}]),e}());var y={create:function(e,t){return t.item?e.mutate().handle((function(n){return n.concat([e.next(b({},t.item))])})).freeze():e},delete:function(e,t){return t.item?e.mutate().handle((function(e){return e.filter((function(e){return!((!("id"in t.item)||t.item.id===e.id)&&(!("text"in t.item)||t.item.text===e.text)&&(!("completed"in t.item)||t.item.completed===e.completed))}))})).freeze():e},update:function(e,t){return t.item?e.mutate().handle((function(e){return e.map((function(e){return e.id===t.item.id?t.item:e}))})).freeze():e},manipulate:function(e,t){return t.manipulation?t.manipulation(e):e}},v=function(e,t){return t.type in y?y[t.type](e,t):e},j=(0,m.createContext)({store:new g,dispatch:function(){return null}}),x=function(e){var t=e.children,n=(0,m.useReducer)(v,null,(function(){return g.of()})),o=n[0],i=n[1],c=(0,m.useMemo)((function(){return{store:o,dispatch:i}}),[o,i]);return(0,r.jsx)(j.Provider,{value:c,children:t})},w=n(8347);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=o.ZP.div.withConfig({displayName:"FilterPicker__Grid",componentId:"nt2fj7-0"})(["display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:auto;place-items:center;border-top:2px solid rgba(128,128,128,0.185);padding:0.8em;&,*{transition:all 0.8s cubic-bezier(0.075,0.82,0.165,1);color:grey;font-style:italic;}"]),C=(0,m.memo)(o.ZP.span.withConfig({displayName:"FilterPicker__PickerItem",componentId:"nt2fj7-1"})(["border:2px solid rgba(186,60,35,0);border-radius:5px;padding:0.1em 0.3em;margin:0.2em 0.3em;user-select:none;box-sizing:content-box;:hover{border:2px solid rgba(186,60,35,0.5);cursor:pointer;}:active{background:rgba(186,60,35,0.2);}",""],(function(e){return e.$checked&&(0,o.iv)(["border:2px solid rgba(186,60,35,0.7);"])}))),_=function(e){var t=e.setFilter,n=void 0===t?function(){return null}:t,o=(0,m.useState)("all"),i=o[0],c=o[1],u=(0,m.useCallback)((function(e){var t=e.currentTarget;return c(t.innerText.toLowerCase())}),[c]);return(0,m.useEffect)((function(){n(i)}),[i,n]),(0,r.jsxs)("div",{children:[(0,r.jsx)(C,{$checked:"all"===i,onClick:u,children:"All"}),(0,r.jsx)(C,{$checked:"complete"===i,onClick:u,children:"Complete"}),(0,r.jsx)(C,{$checked:"incomplete"===i,onClick:u,children:"Incomplete"})]})},I=o.ZP.div.withConfig({displayName:"FilterPicker__Fade",componentId:"nt2fj7-2"})(["opacity:0;transition:all 0.3s;",""],(function(e){return e.visible&&(0,o.iv)(["opacity:1;"])})),z=function(){var e=(0,m.useContext)(j),t=e.store,n=e.dispatch,o=(0,m.useMemo)((function(){return!!t.all.find((function(e){return e.completed}))}),[t]),i=(0,m.useCallback)((function(){return n({type:"delete",item:{completed:!0}})}),[n]);return(0,r.jsx)(I,{visible:o,children:(0,r.jsx)(C,{onClick:i,style:{justifySelf:"flex-end"},children:"Clear Completed"})})},N=(0,m.memo)((function(){var e=(0,m.useContext)(j).store,t=(0,m.useMemo)((function(){return e.filter((function(e){return!e.completed})).length}),[e]);return(0,r.jsxs)(C,{style:{pointerEvents:"none",justifySelf:"flex-start"},children:[t," items left"]})})),S=function(e){var t=e.setFilter,n=void 0===t?function(){return null}:t,o=(0,w.Z)(e,["setFilter"]);return(0,r.jsxs)(P,k(k({},o),{},{children:[(0,r.jsx)(N,{}),(0,r.jsx)(_,{setFilter:n}),(0,r.jsx)(z,{})]}))},Z=o.ZP.input.attrs({autoFocus:!0}).withConfig({displayName:"Input",componentId:"a22n62-0"})(['border:0px solid grey;border-radius:5px 5px 0px 0px;padding:1em 4em;font-size:1.3rem;margin:0.1em 0.7em;width:100%;box-sizing:border-box;background:white;box-shadow:0px 11px 67px -4px rgba(0,0,0,0.6);z-index:50;position:relative;inset:0 auto auto 0;font-family:"Noto Serif","DejaVu Serif","Serif",serif;font-style:italic;outline:none;',""],(function(e){return e.$emptyList&&(0,o.iv)(["border-radius:5px;"])})),E=n(4121);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=(0,o.iv)(["transition:all 0.3s cubic-bezier(0.075,0.82,0.165,1);"]),A=o.ZP.span.attrs((function(e){return{checked:e.checked,children:(0,r.jsx)("span",{children:"\u2713"})}})).withConfig({displayName:"TodoItem__Checkbox",componentId:"b3ubzf-0"})(["border-radius:50%;border:1px dashed #808080;background:rgba(255,255,255,0.178);color:rgba(0,128,0,0.623);font-size:1.7rem;font-weight:900;place-content:center;display:flex;width:1em;height:1em;padding:0.1em;:hover{cursor:pointer;}& > span{display:flex;place-content:center;user-select:none;","}"],(function(e){return!e.checked&&(0,o.iv)(["font-size:0px;"])})),M=o.ZP.div.withConfig({displayName:"TodoItem__TodoItemBase",componentId:"b3ubzf-1"})(["display:grid;grid-template-columns:1fr 20fr 1fr;grid-template-rows:auto;grid-column-gap:0;padding:0.5em 1em;box-sizing:border-box;word-wrap:break-word;align-items:center;text-align:start;font-size:1.7rem;&,& *{","}"],F),L=o.ZP.span.attrs({children:"\xd7"}).withConfig({displayName:"TodoItem__DeleteItemButton",componentId:"b3ubzf-2"})(["opacity:0%;color:#ba3c23;text-align:end;font-size:2rem;user-select:none;width:min-content;height:min-content;padding:0.1em 0.7em;transform:scale(1.2);:hover{cursor:pointer;transform:scale(1.6);}",":hover &{opacity:80%;}"],M),$=o.ZP.span.withConfig({displayName:"TodoItem__ItemText",componentId:"b3ubzf-3"})(["transition:all 1s cubic-bezier(0.075,0.82,0.165,1);box-sizing:border-box;word-wrap:break-word;padding:0 0 0 1em;max-width:20em;width:100%;",""],(function(e){return e.completed&&(0,o.iv)(["text-decoration:line-through;color:rgba(128,128,128,0.438);"])})),B=(0,o.ZP)(Z).withConfig({displayName:"TodoItem__CleanWhiteInput",componentId:"b3ubzf-4"})(["&&&{border-bottom:2px dashed rgba(128,128,128,0.5);transition:all 1s cubic-bezier(0.075,0.82,0.165,1);box-shadow:none;padding:0.7em 0;margin:0 1em;height:1.2em;}"]),H=(0,m.memo)((function(e){var t=e.edit,n=e.item,o=e.submit,i=(0,w.Z)(e,["edit","item","submit"]),c=(0,m.useState)(n.text),u=c[0],a=c[1],l=(0,m.useCallback)((function(){return o(u)}),[u,o]),s=(0,m.useCallback)((function(e){return"enter"===e.key.toLowerCase()&&l()}),[l]),f=(0,m.useCallback)((function(e){var t=e.target;return a(t.value)}),[a]);return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(B,T(T({},i),{},{value:u,onBlur:l,onChange:f,onKeyDown:s})):(0,r.jsx)($,T(T({},i),{},{onClick:i.onClick,completed:n.completed,children:n.text}))})}));H.displayName="ItemTextOrEditItem";var R=function(e){var t=e.item,n=(0,m.useContext)(j).dispatch,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.numberOfClicks,n=void 0===t?2:t,r=e.timeout,o=void 0===r?200:r,i=(0,m.useState)(0),c=i[0],u=i[1],a=(0,m.useMemo)((function(){return c>=2}),[c]),l=(0,m.useCallback)((function(){return u(0)}),[u]),s=(0,m.useCallback)((function(){u((function(e){return e+(e>=1?n+666:1)})),setTimeout((function(){return u((function(e){return e-1}))}),o)}),[u,n,o]);return[a,s,l]}(),i=(0,E.Z)(o,3),c=i[0],u=i[1],a=i[2],l=(0,m.useCallback)((function(){return n({type:"update",item:T(T({},t),{},{completed:!t.completed})})}),[t,n]),s=(0,m.useCallback)((function(){return n({type:"delete",item:t})}),[n,t]),f=(0,m.useCallback)((function(e){var r=e.target;return n({type:"update",item:T(T({},t),{},{text:"string"===typeof r?r:t.text})})}),[n,t]),d=(0,m.useCallback)((function(e){""===e?s():(f({target:e}),a())}),[a,f,s]);return(0,r.jsxs)(M,{children:[(0,r.jsx)(A,{checked:t.completed,onClick:l}),(0,r.jsx)(H,{autoFocus:!0,item:t,edit:c,submit:d,onClick:u}),(0,r.jsx)(L,{onClick:s})]})};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=(0,m.memo)(o.ZP.span.attrs({children:"^"}).withConfig({displayName:"ToggleSelectAll__Button",componentId:"sc-1yruhrf-0"})(["user-select:none;transition:all 0.1s linear;transform:rotate(180deg) scale(2,1);color:rgba(128,128,128,0.534);z-index:500;font-size:2rem;position:relative;inset:-1.5em auto auto -9.5em;height:0;:hover{cursor:pointer;color:rgba(128,128,128,0.836);}:active{transform:rotate(180deg) scale(2,1) translate(0,-0.1em);}",""],(function(e){return e.$emptyList&&(0,o.iv)(["opacity:0%;"])}))),U=function(){var e=(0,m.useContext)(j),t=e.store,n=e.dispatch,o=(0,m.useMemo)((function(){return 0===t.all.length}),[t]),i=(0,m.useMemo)((function(){return o||!t.all[0].completed}),[t,o]),c=(0,m.useCallback)((function(){return n({type:"manipulate",manipulation:function(e){return e.mutate().handle((function(e){return e.map((function(e){return X(X({},e),{},{completed:i})}))})).freeze()}})}),[i,n]);return(0,r.jsx)(V,{$emptyList:o,onClick:c})};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=o.ZP.div.withConfig({displayName:"WhatNeedsToBeDone__Root",componentId:"tj01w6-0"})(["position:relative;width:min-content;height:4.6em;"]),J=o.ZP.div.attrs((function(e){return{children:"What needs to be done?",$emptyInput:e.$emptyInput}})).withConfig({displayName:"WhatNeedsToBeDone__PlaceholderText",componentId:"tj01w6-1"})(["transition:all 0.2s cubic-bezier(0.075,0.82,0.165,1);pointer-events:none;user-select:none;position:relative;text-align:left;inset:-2em auto auto -50%;transform:translate(83%,0);z-index:100;color:rgba(160,160,160);opacity:82.9%;font-style:italic;font-size:1.6rem;width:fit-content;",""],(function(e){return!e.$emptyInput&&(0,o.iv)(["opacity:0%;"])})),Q=o.ZP.div.withConfig({displayName:"WhatNeedsToBeDone__AppGrid",componentId:"tj01w6-2"})(["display:grid;grid-template-columns:auto;grid-template-rows:1fr 10fr;justify-items:center;max-height:80%;width:43.5em;"]),Y=o.ZP.div.withConfig({displayName:"WhatNeedsToBeDone__List",componentId:"tj01w6-3"})(["min-height:5em;max-height:70vh;width:100%;overflow-y:scroll;background:white;margin-top:-1em;z-index:100;",""],(function(e){var t=e.children;return(!t||0===t.length)&&(0,o.iv)(["opacity:0%;"])})),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;return function(t,n){return t[t.length-1].length>=e?t.concat([[n]]):t.slice(0,t.length-1).concat([t[t.length-1].concat([n])])}},te=(0,m.memo)((0,m.forwardRef)((function(e,t){var n=e.store,o=e.filteredList,i=e.page,c=void 0===i?0:i,u=e.pageSize,a=void 0===u?Number.MAX_VALUE:u,l=e.setFilter;return n.length>0&&(0,r.jsxs)(Y,{style:K({overflow:"unset"},0===o.length?{marginTop:"-2.1em"}:{}),children:[o.length>0&&(0,r.jsx)(Y,{ref:t,children:o.reduce(ee(a),[[]])[c].map((function(e){return e&&(0,r.jsx)(R,{item:e},e.id)}))}),(0,r.jsx)(S,{setFilter:l})]})})));te.displayName="BigList";var ne=function(e){var t=e.pageSize,n=void 0===t?Number.MAX_VALUE:t,o=(0,m.useState)(""),i=o[0],c=o[1],u=(0,m.useState)(0)[0],a=(0,m.useRef)(null),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.delay,r=void 0===n?50:n,o=t.behavior,i=void 0===o?"smooth":o;return(0,m.useCallback)((function(){return setTimeout((function(){var t;return null===e||void 0===e||null===(t=e.current)||void 0===t?void 0:t.scrollBy({behavior:i,top:e.current.scrollHeight})}),r)}),[e,r,i])}(a),s=(0,m.useContext)(j),f=s.store,d=s.dispatch,p=function(){var e=(0,m.useState)((function(){return function(){return!0}})),t=e[0],n=e[1];return{filter:t,setFilter:(0,m.useCallback)((function(e){switch(e){case"all":return n((function(){return function(){return!0}}));case"complete":return n((function(){return function(e){return e.completed}}));case"incomplete":return n((function(){return function(e){return!e.completed}}));default:return null}}),[n])}}(),h=p.filter,b=p.setFilter,g=(0,m.useMemo)((function(){return""===i}),[i]),y=(0,m.useMemo)((function(){return 0===f.length}),[f]),v=(0,m.useMemo)((function(){return f.all.filter(h)}),[f,h]),x=(0,m.useCallback)((function(e){return c(e.target.value)}),[c]),w=(0,m.useCallback)((function(e){"Enter"===e.key&&""!==i&&(d({type:"create",item:f.next({completed:!1,text:i})}),c(""),l())}),[i,d,f,l]);return(0,r.jsx)(q,{children:(0,r.jsxs)(Q,{children:[(0,r.jsx)(Z,{$emptyList:y,onChange:x,onKeyPress:w,value:i}),(0,r.jsx)(J,{$emptyInput:g}),(0,r.jsx)(U,{}),(0,r.jsx)(te,{ref:a,store:f,filteredList:v,setFilter:b,pageSize:n,page:u})]})})},re=o.ZP.div.withConfig({displayName:"Todo__Root",componentId:"w7rq4b-0"})(["width:min-content;height:100%;margin:auto;display:flex;flex-direction:column;place-content:center;text-align:center;"]);function oe(){return(0,r.jsx)(re,{children:(0,r.jsxs)(x,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(ne,{})]})})}function ie(){return(0,r.jsx)(oe,{})}},2557:function(e,t,n){"use strict";n.d(t,{Vc:function(){return o},uX:function(){return c},oB:function(){return u},uH:function(){return i}});var r=n(4121),o=n(4155).env.ASSET_PREFIX||"",i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return"".concat(o).concat(e)},c=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.replace("".concat(o).concat(n))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={},n=(e instanceof Array?e.join(""):e).replace(/ {2,}/g,"").replace(/\n/g,"").trim(),o=function(e){var t=e.split("-");return 1===t.length?t[0]:t[0]+t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("")};return n.split(";").forEach((function(e){var n=e.split(":"),i=(0,r.Z)(n,2),c=i[0],u=i[1];if(c){var a=o(c.trim());t[a]=u.trim()}})),t}},9782:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/todo",function(){return n(1534)}])},8347:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[774,222],(function(){return t=9782,e(e.s=t);var t}));var t=e.O();_N_E=t}]);